# test-jwt-messenger

Сервис с авторизацией пользователей, с генерацией токена безопасности, 
функцией отправки и просмотра сообщений

**Настройки**

В папке resources имеются настройки приложения:

application.propeties - настройки БД и локального порта
Script.sql - скрипт создания таблиц


**Запуск через Docker**

//необходима доработка, так как при старте контейнера вылезает непонятная для меня ошибка META-INF/spring.factories
Ранее смог ее решить, но потом пытался подружить SQL и Docker(не подружил))) пока вопрос изучается), откатился назад, но проблема снова вернулась 


Открываем корневой каталог, в котором лежит Dockerfile
через командную строку/терминал

Создаем Image, выполнив команду:

docker build -t testmessenger.

где testmessenger - name, которое вы можете написать любое


Создаем контейнер, выполнив команду:

docker run --name testmessenger -p 127.0.0.1:8087:8087 testmessenger


Ввести в браузере http://localhost:8087


#Описание эндпоинтов (все проверялось в Postman):

прописываем адрес после api и пишем запрос(по умолчанию api -> http://localhost:8087)
Кроме ключевых слов login, password, message, history в примерах запросов можно/нужно менять слова

РЕГИСТРАЦИЯ НОВОГО ПОЛЬЗОВАТЕЛЯ:
/register

Тело POST запроса:
{"login": "имя пользователя"
"password": "пароль"
}

АВТОРИЗАЦИЯ ПОЛЬЗОВАТЕЛЯ:
/auth

Тело POST запроса:
{"login": "имя пользователя"
"password": "пароль"
}

сервис выдает токен, который необходимо вставить в соответствующую колонку(смотря откуда проверяется)
Без токена нижеописанные запросы НЕ работают

ПОЛЬЗОВАТЕЛЬ ОТПРАВЛЯЕТ СООБЩЕНИЕ 
/message
Тело POST запроса:
{"login": "имя пользователя"
"message": "текст сообщения"
}

ПРОСМОТР ИСТОРИИ СООБЩЕНИЙ
/message/history
Тело GET запроса:
{"login": "имя пользователя"
"message": "history ЧИСЛО"   //пишите любое корректное число в теле запроса (выдаст не больше, чем есть в БД)
}





